


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="index.html">
      
      
        <link rel="next" href="documenting.html">
      
      
      <link rel="icon" href="../_static/favicon.ico">
    
    
      
        <title>Testing - Supriya</title>
      
    
    
      
        
      
      


    
    
      
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.617440e035ad4929f.min.css?v=43d9ce22" />
        <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="lime">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#running-tests" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Supriya" class="md-header__button md-logo" aria-label="Supriya" data-md-component="logo">
      <img src="../_static/icon.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Supriya
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Testing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/supriya-project/supriya/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    supriya
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../introduction/installation.html" class="md-tabs__link">
        
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../tutorials/index.html" class="md-tabs__link">
        
  
    
  
  Core tutorials

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../advanced/index.html" class="md-tabs__link">
        
  
    
  
  Advanced tutorials

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../examples/index.html" class="md-tabs__link">
        
  
    
  
  Examples

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="index.html" class="md-tabs__link">
        
  
    
  
  For developers

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../api/supriya/index.html" class="md-tabs__link">
        
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../appendices/glossary.html" class="md-tabs__link">
        
  
    
  
  Appendices

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Supriya" class="md-nav__button md-logo" aria-label="Supriya" data-md-component="logo">
      <img src="../_static/icon.svg" alt="logo">
    </a>
    Supriya
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/supriya-project/supriya/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    supriya
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/installation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/history.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    History and background
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Core tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core tutorials overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/contexts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contexts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/servers.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Realtime Servers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/nodes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nodes
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/buses.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buses
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/buffers.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buffers
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/synthdefs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synth<wbr>Defs
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/osc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open Sound Control
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/scores.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Non-<wbr>realtime Scores
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced tutorials overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/clocks.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clocks
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/patterns.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Patterns
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/extensions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples Overview
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/hello_world.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hello, world!
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/hello_world_contexts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hello, world!, context-<wbr>agnostic
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/hello_world_debugged.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hello, world!, debugged
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
    
  
  
  
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    For developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            For developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    
    <span class="md-ellipsis">
      Running tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#live-servers" class="md-nav__link">
    
    <span class="md-ellipsis">
      Live servers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coverage" class="md-nav__link">
    
    <span class="md-ellipsis">
      Coverage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-tests" class="md-nav__link">
    
    <span class="md-ellipsis">
      Writing tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-philosophy" class="md-nav__link">
    
    <span class="md-ellipsis">
      Some philosophy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#an-example-test" class="md-nav__link">
    
    <span class="md-ellipsis">
      An example test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-with-fixtures" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing with fixtures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-async-code" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing async code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-async-and-sync-code-together" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing async and sync code together
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-node-trees-diffs" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing node trees diffs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-osc-transcripts" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing OSC transcripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-server-process-transcripts" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing server process transcripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-exceptions" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-warnings" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing warnings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-logs" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-parametrically" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing parametrically
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-parametrically-with-fixtures" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing parametrically with fixtures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formatting" class="md-nav__link">
    
    <span class="md-ellipsis">
      Formatting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linting" class="md-nav__link">
    
    <span class="md-ellipsis">
      Linting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-checking" class="md-nav__link">
    
    <span class="md-ellipsis">
      Type-<wbr>checking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type-checking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mypy-extensions" class="md-nav__link">
    
    <span class="md-ellipsis">
      Mypy extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ci-cd" class="md-nav__link">
    
    <span class="md-ellipsis">
      CI/CD
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="documenting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentating
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="releasing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releasing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    supriya
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            supriya
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/clocks/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    clocks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_1" id="__nav_6_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_1">
            <span class="md-nav__icon md-icon"></span>
            clocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/clocks/asynchronous.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    asynchronous
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/clocks/core.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/clocks/offline.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    offline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/clocks/threaded.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    threaded
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/contexts/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    contexts
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_2" id="__nav_6_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_2">
            <span class="md-nav__icon md-icon"></span>
            contexts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/allocators.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    allocators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/core.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/entities.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    entities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/nonrealtime.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    nonrealtime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/realtime.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    realtime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/requests.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    requests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/responses.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    responses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/scopes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    scopes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/contexts/shm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    shm
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/conversions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    conversions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/enums.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    enums
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/exceptions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/ext/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ext
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_6" id="__nav_6_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_6">
            <span class="md-nav__icon md-icon"></span>
            ext
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ext/book.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    book
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ext/ipython.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ipython
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ext/mypy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mypy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/io.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    io
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/osc/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    osc
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_8" id="__nav_6_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_8">
            <span class="md-nav__icon md-icon"></span>
            osc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/osc/asynchronous.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    asynchronous
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/osc/messages.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/osc/protocols.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    protocols
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/osc/threaded.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    threaded
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/osc/utils.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/patterns/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    patterns
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_9" id="__nav_6_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_9">
            <span class="md-nav__icon md-icon"></span>
            patterns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/eventpatterns.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    eventpatterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/events.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/noise.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    noise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/patterns.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/players.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    players
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/structure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/patterns/testutils.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    testutils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/sclang.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sclang
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/scsynth.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    scsynth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/soundfiles.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    soundfiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/typing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    typing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_14" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/ugens/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ugens
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_14" id="__nav_6_1_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_14">
            <span class="md-nav__icon md-icon"></span>
            ugens
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/basic.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    basic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/beq.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    beq
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/bufio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bufio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/chaos.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    chaos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/convolution.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    convolution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/core.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/delay.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    delay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/demand.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    demand
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/diskio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    diskio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/dynamics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dynamics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/envelopes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    envelopes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/factories.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    factories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/ffsinosc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ffsinosc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/filters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/gendyn.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gendyn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/granular.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    granular
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/hilbert.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hilbert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/info.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/inout.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    inout
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/lines.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/mac.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mac
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/ml.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ml
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/noise.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    noise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/osc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    osc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/panning.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    panning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/physical.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    physical
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/pv.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/reverb.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    reverb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/safety.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    safety
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/ugens/triggers.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    triggers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
              
                
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_15" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../api/supriya/utils/index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_15" id="__nav_6_1_15_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_15">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/utils/intervals.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    intervals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/supriya/utils/iterables.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    iterables
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Appendices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Appendices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../appendices/glossary.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  
    
  
  
    <span class="md-status md-status--under-construction" title="Under construction">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    
    <span class="md-ellipsis">
      Running tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#live-servers" class="md-nav__link">
    
    <span class="md-ellipsis">
      Live servers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coverage" class="md-nav__link">
    
    <span class="md-ellipsis">
      Coverage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-tests" class="md-nav__link">
    
    <span class="md-ellipsis">
      Writing tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-philosophy" class="md-nav__link">
    
    <span class="md-ellipsis">
      Some philosophy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#an-example-test" class="md-nav__link">
    
    <span class="md-ellipsis">
      An example test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-with-fixtures" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing with fixtures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-async-code" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing async code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-async-and-sync-code-together" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing async and sync code together
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-node-trees-diffs" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing node trees diffs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-osc-transcripts" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing OSC transcripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-server-process-transcripts" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing server process transcripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-exceptions" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-warnings" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing warnings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-logs" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-parametrically" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing parametrically
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-parametrically-with-fixtures" class="md-nav__link">
    
    <span class="md-ellipsis">
      Testing parametrically with fixtures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formatting" class="md-nav__link">
    
    <span class="md-ellipsis">
      Formatting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linting" class="md-nav__link">
    
    <span class="md-ellipsis">
      Linting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-checking" class="md-nav__link">
    
    <span class="md-ellipsis">
      Type-<wbr>checking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type-checking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mypy-extensions" class="md-nav__link">
    
    <span class="md-ellipsis">
      Mypy extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ci-cd" class="md-nav__link">
    
    <span class="md-ellipsis">
      CI/CD
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                
                
                  


  
  
    
      
    
    <a href="https://github.com/supriya-project/supriya/raw/main/docs/developers/testing.rst" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  

<h1 id="testing">Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h1>
<p>Supriya uses an extensive test suite to guarantee stability during the
development process.</p>
<p>Install Supriya’s test dependencies with:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2">
<input checked type="radio" id="__tabbed_1_1" name="__tabbed_1"><input type="radio" id="__tabbed_1_2" name="__tabbed_1"><div class="tabbed-labels docutils container">
<label class="tabbed-label" for="__tabbed_1_1">
From PyPI</label><label class="tabbed-label" for="__tabbed_1_2">
From source</label></div>
<div class="tabbed-content docutils container">
<div class="tabbed-block docutils container">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~$ </span>pip<span class="w"> </span>install<span class="w"> </span>supriya<span class="o">[</span>test<span class="o">]</span>
</code></pre></div>
</div>
</div>
<div class="tabbed-block docutils container">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~$ </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/supriya-project/supriya.git
<span class="gp">josephine@laptop:~$ </span><span class="nb">cd</span><span class="w"> </span>supriya
<span class="gp">josephine@laptop:~/supriya$ </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>test<span class="o">]</span>
</code></pre></div>
</div>
</div>
</div>
</div><h2 id="running-tests">Running tests<a class="headerlink" href="#running-tests" title="Link to this heading">¶</a></h2>
<p>Supriya uses <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> as its test runner, both for unit tests and for
doctests, along with a variety of <cite>pytest_</cite> plugins.</p>
<p>Run <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> against Supriya’s default test paths (<a class="extlink-github-tree reference external" href="https://github.com/supriya-project/supriya/tree//supriya">supriya/</a> and <a class="extlink-github-tree reference external" href="https://github.com/supriya-project/supriya/tree//tests">tests/</a>) with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest
</code></pre></div>
</div>
<p>You can run <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> against a specific test module with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/contexts/test_Server_nodes.py
</code></pre></div>
</div>
<p>… or against a specific test function in a specific module with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/contexts/test_Server_nodes.py::test_add_synth
</code></pre></div>
</div>
<p>You can also run <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> against any test or test file matching a pattern
with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>-k<span class="w"> </span>add_synth
</code></pre></div>
</div>
<p>See <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a>’s complete documentation for a wide variety of invocation
options.</p>
<h3 id="live-servers">Live servers<a class="headerlink" href="#live-servers" title="Link to this heading">¶</a></h3>
<p>Many unit and doctests run against live SuperCollider servers. Expect to hear
audio during the test run.</p>
<p>If you have any running servers online prior to running the test suite, they
will be automatically killed once the tests start running.</p>
<p>Supriya provides a <a class="reference internal" href="../api/supriya/scsynth.html#supriya.scsynth.kill" title="supriya.scsynth.kill (Python function)"><code class="xref py py-func docutils literal notranslate"><span class="pre">kill()</span></code></a> function for killing any
process whose name matches <code class="docutils literal notranslate"><span class="pre">scsynth</span></code>, <code class="docutils literal notranslate"><span class="pre">supernova</span></code> or their Windows
equivalents.</p>
<h3 id="coverage">Coverage<a class="headerlink" href="#coverage" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> can collect code coverage statistics during its test runs via the
<a class="reference external" href="https://pytest-cov.readthedocs.io/en/latest/">pytest-cov</a> plugin, installed when you install Supriya’s test dependencies.</p>
<p>Collect coverage against the code in the <a class="extlink-github-tree reference external" href="https://github.com/supriya-project/supriya/tree//supriya">supriya/</a>
directory during a test run by adding the <code class="docutils literal notranslate"><span class="pre">--cov=supriya</span></code> flag:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>--cov<span class="o">=</span>supriya
</code></pre></div>
</div>
<p>Supriya provides a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> target to simplify this call:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>make<span class="w"> </span>pytest
</code></pre></div>
</div>
<p>The coverage report appear at the end of the test output in your terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">Name</span>                                <span class="n">Stmts</span>   <span class="n">Miss</span> <span class="n">Branch</span> <span class="n">BrPart</span>  <span class="n">Cover</span>
<span class="o">---------------------------------------------------------------------</span>
<span class="n">supriya</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>                    <span class="mi">21</span>      <span class="mi">4</span>      <span class="mi">2</span>      <span class="mi">1</span>    <span class="mi">78</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">_version</span><span class="o">.</span><span class="n">py</span>                     <span class="mi">2</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">clocks</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>              <span class="mi">5</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">clocks</span><span class="o">/</span><span class="n">asynchronous</span><span class="o">.</span><span class="n">py</span>        <span class="mi">115</span>      <span class="mi">6</span>     <span class="mi">40</span>      <span class="mi">5</span>    <span class="mi">93</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">clocks</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span>                <span class="mi">431</span>     <span class="mi">33</span>    <span class="mi">118</span>     <span class="mi">18</span>    <span class="mi">90</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">clocks</span><span class="o">/</span><span class="n">offline</span><span class="o">.</span><span class="n">py</span>              <span class="mi">97</span>     <span class="mi">12</span>     <span class="mi">14</span>      <span class="mi">4</span>    <span class="mi">86</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">clocks</span><span class="o">/</span><span class="n">threaded</span><span class="o">.</span><span class="n">py</span>             <span class="mi">72</span>      <span class="mi">3</span>     <span class="mi">22</span>      <span class="mi">4</span>    <span class="mi">93</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>            <span class="mi">5</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">allocators</span><span class="o">.</span><span class="n">py</span>        <span class="mi">154</span>     <span class="mi">10</span>     <span class="mi">42</span>      <span class="mi">8</span>    <span class="mi">91</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span>              <span class="mi">532</span>     <span class="mi">32</span>    <span class="mi">186</span>     <span class="mi">22</span>    <span class="mi">91</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">entities</span><span class="o">.</span><span class="n">py</span>          <span class="mi">285</span>     <span class="mi">41</span>     <span class="mi">72</span>     <span class="mi">26</span>    <span class="mi">78</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">nonrealtime</span><span class="o">.</span><span class="n">py</span>       <span class="mi">113</span>      <span class="mi">8</span>     <span class="mi">36</span>      <span class="mi">5</span>    <span class="mi">91</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">realtime</span><span class="o">.</span><span class="n">py</span>          <span class="mi">791</span>     <span class="mi">28</span>    <span class="mi">262</span>     <span class="mi">25</span>    <span class="mi">95</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">requests</span><span class="o">.</span><span class="n">py</span>          <span class="mi">718</span>     <span class="mi">29</span>    <span class="mi">142</span>     <span class="mi">14</span>    <span class="mi">95</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">responses</span><span class="o">.</span><span class="n">py</span>         <span class="mi">356</span>     <span class="mi">12</span>     <span class="mi">64</span>      <span class="mi">5</span>    <span class="mi">96</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">contexts</span><span class="o">/</span><span class="n">scopes</span><span class="o">.</span><span class="n">py</span>             <span class="mi">94</span>     <span class="mi">16</span>     <span class="mi">30</span>     <span class="mi">15</span>    <span class="mi">75</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">conversions</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">20</span>      <span class="mi">5</span>      <span class="mi">0</span>      <span class="mi">0</span>    <span class="mi">75</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">enums</span><span class="o">.</span><span class="n">py</span>                      <span class="mi">381</span>      <span class="mi">8</span>     <span class="mi">24</span>      <span class="mi">3</span>    <span class="mi">97</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">exceptions</span><span class="o">.</span><span class="n">py</span>                  <span class="mi">36</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ext</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>                <span class="mi">19</span>      <span class="mi">6</span>     <span class="mi">10</span>      <span class="mi">3</span>    <span class="mi">62</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ext</span><span class="o">/</span><span class="n">book</span><span class="o">.</span><span class="n">py</span>                    <span class="mi">99</span>      <span class="mi">2</span>      <span class="mi">2</span>      <span class="mi">0</span>    <span class="mi">98</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ext</span><span class="o">/</span><span class="n">ipython</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">23</span>     <span class="mi">16</span>      <span class="mi">4</span>      <span class="mi">0</span>    <span class="mi">26</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ext</span><span class="o">/</span><span class="n">mypy</span><span class="o">.</span><span class="n">py</span>                    <span class="mi">63</span>     <span class="mi">49</span>     <span class="mi">18</span>      <span class="mi">0</span>    <span class="mi">17</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">io</span><span class="o">.</span><span class="n">py</span>                          <span class="mi">78</span>     <span class="mi">25</span>      <span class="mi">8</span>      <span class="mi">2</span>    <span class="mi">64</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">osc</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">5</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">osc</span><span class="o">/</span><span class="n">asynchronous</span><span class="o">.</span><span class="n">py</span>            <span class="mi">89</span>      <span class="mi">8</span>     <span class="mi">30</span>      <span class="mi">8</span>    <span class="mi">85</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">osc</span><span class="o">/</span><span class="n">messages</span><span class="o">.</span><span class="n">py</span>               <span class="mi">279</span>     <span class="mi">35</span>    <span class="mi">116</span>     <span class="mi">16</span>    <span class="mi">85</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">osc</span><span class="o">/</span><span class="n">protocols</span><span class="o">.</span><span class="n">py</span>              <span class="mi">209</span>     <span class="mi">15</span>     <span class="mi">68</span>     <span class="mi">13</span>    <span class="mi">90</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">osc</span><span class="o">/</span><span class="n">threaded</span><span class="o">.</span><span class="n">py</span>               <span class="mi">115</span>     <span class="mi">10</span>     <span class="mi">36</span>      <span class="mi">7</span>    <span class="mi">89</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">osc</span><span class="o">/</span><span class="n">utils</span><span class="o">.</span><span class="n">py</span>                   <span class="mi">26</span>      <span class="mi">5</span>     <span class="mi">12</span>      <span class="mi">1</span>    <span class="mi">84</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>            <span class="mi">7</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">eventpatterns</span><span class="o">.</span><span class="n">py</span>     <span class="mi">131</span>     <span class="mi">14</span>     <span class="mi">42</span>      <span class="mi">3</span>    <span class="mi">89</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">events</span><span class="o">.</span><span class="n">py</span>            <span class="mi">168</span>     <span class="mi">15</span>     <span class="mi">52</span>     <span class="mi">12</span>    <span class="mi">85</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">noise</span><span class="o">.</span><span class="n">py</span>             <span class="mi">114</span>      <span class="mi">7</span>     <span class="mi">38</span>      <span class="mi">8</span>    <span class="mi">90</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">patterns</span><span class="o">.</span><span class="n">py</span>          <span class="mi">252</span>      <span class="mi">6</span>     <span class="mi">54</span>      <span class="mi">2</span>    <span class="mi">97</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">players</span><span class="o">.</span><span class="n">py</span>           <span class="mi">166</span>     <span class="mi">25</span>     <span class="mi">60</span>      <span class="mi">9</span>    <span class="mi">81</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">structure</span><span class="o">.</span><span class="n">py</span>         <span class="mi">157</span>     <span class="mi">11</span>     <span class="mi">58</span>      <span class="mi">7</span>    <span class="mi">90</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">patterns</span><span class="o">/</span><span class="n">testutils</span><span class="o">.</span><span class="n">py</span>          <span class="mi">60</span>      <span class="mi">3</span>     <span class="mi">22</span>      <span class="mi">0</span>    <span class="mi">96</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sclang</span><span class="o">.</span><span class="n">py</span>                      <span class="mi">29</span>      <span class="mi">7</span>     <span class="mi">16</span>      <span class="mi">6</span>    <span class="mi">67</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">scsynth</span><span class="o">.</span><span class="n">py</span>                    <span class="mi">416</span>     <span class="mi">29</span>    <span class="mi">156</span>     <span class="mi">21</span>    <span class="mi">91</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>            <span class="mi">6</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">components</span><span class="o">.</span><span class="n">py</span>        <span class="mi">241</span>     <span class="mi">14</span>     <span class="mi">78</span>      <span class="mi">9</span>    <span class="mi">93</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">constants</span><span class="o">.</span><span class="n">py</span>          <span class="mi">36</span>      <span class="mi">2</span>      <span class="mi">0</span>      <span class="mi">0</span>    <span class="mi">94</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">devices</span><span class="o">.</span><span class="n">py</span>            <span class="mi">80</span>      <span class="mi">1</span>     <span class="mi">16</span>      <span class="mi">1</span>    <span class="mi">98</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">mixers</span><span class="o">.</span><span class="n">py</span>             <span class="mi">63</span>      <span class="mi">2</span>     <span class="mi">14</span>      <span class="mi">2</span>    <span class="mi">95</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">sessions</span><span class="o">.</span><span class="n">py</span>          <span class="mi">200</span>     <span class="mi">16</span>     <span class="mi">82</span>     <span class="mi">15</span>    <span class="mi">89</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">specs</span><span class="o">.</span><span class="n">py</span>             <span class="mi">386</span>     <span class="mi">50</span>    <span class="mi">166</span>     <span class="mi">24</span>    <span class="mi">83</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="n">tracks</span><span class="o">.</span><span class="n">py</span>            <span class="mi">363</span>      <span class="mi">8</span>    <span class="mi">116</span>      <span class="mi">7</span>    <span class="mi">97</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">soundfiles</span><span class="o">.</span><span class="n">py</span>                  <span class="mi">48</span>      <span class="mi">7</span>     <span class="mi">14</span>      <span class="mi">7</span>    <span class="mi">77</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">typing</span><span class="o">.</span><span class="n">py</span>                      <span class="mi">43</span>      <span class="mi">4</span>      <span class="mi">0</span>      <span class="mi">0</span>    <span class="mi">91</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>              <span class="mi">31</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">basic</span><span class="o">.</span><span class="n">py</span>                <span class="mi">107</span>      <span class="mi">1</span>     <span class="mi">48</span>      <span class="mi">1</span>    <span class="mi">99</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">beq</span><span class="o">.</span><span class="n">py</span>                   <span class="mi">56</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">bufio</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">61</span>      <span class="mi">0</span>      <span class="mi">2</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">chaos</span><span class="o">.</span><span class="n">py</span>                <span class="mi">162</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">compilers</span><span class="o">.</span><span class="n">py</span>              <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">convolution</span><span class="o">.</span><span class="n">py</span>           <span class="mi">25</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span>                <span class="mi">1365</span>     <span class="mi">67</span>    <span class="mi">492</span>     <span class="mi">44</span>    <span class="mi">94</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">delay</span><span class="o">.</span><span class="n">py</span>                <span class="mi">128</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">demand</span><span class="o">.</span><span class="n">py</span>               <span class="mi">133</span>      <span class="mi">2</span>      <span class="mi">6</span>      <span class="mi">2</span>    <span class="mi">97</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">diskio</span><span class="o">.</span><span class="n">py</span>                <span class="mi">15</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">dynamics</span><span class="o">.</span><span class="n">py</span>              <span class="mi">32</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">envelopes</span><span class="o">.</span><span class="n">py</span>            <span class="mi">259</span>     <span class="mi">82</span>     <span class="mi">78</span>     <span class="mi">18</span>    <span class="mi">64</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">factories</span><span class="o">.</span><span class="n">py</span>            <span class="mi">195</span>     <span class="mi">20</span>     <span class="mi">80</span>     <span class="mi">11</span>    <span class="mi">87</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">ffsinosc</span><span class="o">.</span><span class="n">py</span>              <span class="mi">36</span>      <span class="mi">2</span>      <span class="mi">6</span>      <span class="mi">3</span>    <span class="mi">88</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">filters</span><span class="o">.</span><span class="n">py</span>              <span class="mi">181</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">gendyn</span><span class="o">.</span><span class="n">py</span>                <span class="mi">50</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">granular</span><span class="o">.</span><span class="n">py</span>              <span class="mi">37</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">hilbert</span><span class="o">.</span><span class="n">py</span>               <span class="mi">13</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">info</span><span class="o">.</span><span class="n">py</span>                  <span class="mi">47</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">inout</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">39</span>      <span class="mi">0</span>      <span class="mi">2</span>      <span class="mi">1</span>    <span class="mi">98</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">lines</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">66</span>      <span class="mi">1</span>      <span class="mi">2</span>      <span class="mi">1</span>    <span class="mi">97</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">mac</span><span class="o">.</span><span class="n">py</span>                   <span class="mi">25</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">ml</span><span class="o">.</span><span class="n">py</span>                    <span class="mi">76</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">noise</span><span class="o">.</span><span class="n">py</span>                <span class="mi">119</span>      <span class="mi">0</span>      <span class="mi">2</span>      <span class="mi">1</span>    <span class="mi">99</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">osc</span><span class="o">.</span><span class="n">py</span>                  <span class="mi">103</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">panning</span><span class="o">.</span><span class="n">py</span>               <span class="mi">89</span>      <span class="mi">3</span>      <span class="mi">8</span>      <span class="mi">3</span>    <span class="mi">94</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">physical</span><span class="o">.</span><span class="n">py</span>              <span class="mi">26</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">pv</span><span class="o">.</span><span class="n">py</span>                   <span class="mi">196</span>      <span class="mi">6</span>      <span class="mi">6</span>      <span class="mi">0</span>    <span class="mi">95</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">reverb</span><span class="o">.</span><span class="n">py</span>                 <span class="mi">7</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">safety</span><span class="o">.</span><span class="n">py</span>                <span class="mi">16</span>      <span class="mi">1</span>      <span class="mi">2</span>      <span class="mi">1</span>    <span class="mi">89</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">system</span><span class="o">.</span><span class="n">py</span>               <span class="mi">230</span>      <span class="mi">5</span>     <span class="mi">36</span>      <span class="mi">2</span>    <span class="mi">97</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">ugens</span><span class="o">/</span><span class="n">triggers</span><span class="o">.</span><span class="n">py</span>             <span class="mi">148</span>      <span class="mi">3</span>      <span class="mi">6</span>      <span class="mi">3</span>    <span class="mi">96</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>               <span class="mi">3</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">intervals</span><span class="o">.</span><span class="n">py</span>            <span class="mi">735</span>     <span class="mi">97</span>    <span class="mi">324</span>     <span class="mi">35</span>    <span class="mi">84</span><span class="o">%</span>
<span class="n">supriya</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">iterables</span><span class="o">.</span><span class="n">py</span>             <span class="mi">86</span>      <span class="mi">7</span>     <span class="mi">50</span>      <span class="mi">7</span>    <span class="mi">87</span><span class="o">%</span>
<span class="o">---------------------------------------------------------------------</span>
<span class="n">TOTAL</span>                               <span class="mi">13106</span>    <span class="mi">936</span>   <span class="mi">3492</span>    <span class="mi">471</span>    <span class="mi">90</span><span class="o">%</span>
<span class="n">Coverage</span> <span class="n">HTML</span> <span class="n">written</span> <span class="n">to</span> <span class="nb">dir</span> <span class="n">htmlcov</span>
</code></pre></div>
</div>
<p>A line-by-line HTML version of the output can also be found under an <code class="docutils literal notranslate"><span class="pre">htmlcov/</span></code>
directory at the root of Supriya’s codebase.</p>
<div class="hint tip admonition">
<p class="admonition-title">Hint</p>
<p>Use coverage reporting to guide your test writing. It will expose branches
that haven’t been executed during testing. Aim for 90% coverage, but don’t
stress about going significantly higher. Higher percentages (while often
possible!) tend to require contortions of logic, and in practice don’t
necessarily yield better stability. Rely on static type-checking to fill in
the gaps in test coverage.</p>
</div>
<h2 id="writing-tests">Writing tests<a class="headerlink" href="#writing-tests" title="Link to this heading">¶</a></h2>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The test examples here are in the official test suite, to ensure that they
continue to work and are also therefore subject to the same formatting,
linting and static-typing checks as any other code in Supriya. You can find
them <a class="extlink-github-blob reference external" href="https://github.com/supriya-project/supriya/blob//tests/test_examples.py">here</a>.</p>
</div>
<h3 id="some-philosophy">Some philosophy<a class="headerlink" href="#some-philosophy" title="Link to this heading">¶</a></h3>
<p>Whenever possible, keep tests simple:</p>
<ul class="simple">
<li><p>some setup (pushed into fixtures if at all possible)</p></li>
<li><p>possibly validate pre-conditions</p></li>
<li><p>perform the operation under test (a single operation!)</p></li>
<li><p>validate post-conditions</p></li>
<li><p>some teardown (pushed into fixtures if at all possible)</p></li>
</ul>
<p>Test every public function, even public class, every public method on every
public class. One test per function or method (including initializers if those
are complex, which they shouldn’t be if possible). When testing variations on
the same category of behavior, use parameterization.</p>
<p>It’s easy to test operations against live, running servers, so make use of
that. Don’t <em>mock</em> the server, just <em>use</em> one. In general, assume that
SuperCollider will behave as expected, allowing yourself to test communication
with the server rather than target server state. SuperCollider doesn’t make it
particularly easy to truly validate server state, so prefer to rely on
validating communication instead.</p>
<p>Make sure to test not only <em>happy</em> paths, but <em>unhappy</em> ones too. If a function
can raise exceptions, test for them. If a function can issue warnings, test for
them. If a function <em>explicitly</em> emits logs, test for them. Failure states are
part of the API.</p>
<p>Doctests are OK, but keep them very concise. Prefer to push extended testing in
docstrings into the unit testsuite instead. Prefer to push extensive exposition
into the documentation instead.</p>
<div class="self-criticism admonition">
<p class="admonition-title">Self Criticism</p>
<p>You’ll see in some of Supriya’s older tests - especially for SynthDefs -
multiple rounds of operations and validations. Avoid this pattern when
writing new ones. These older tests will eventually get refactored,
typically into parametrized tests.</p>
</div>
<h3 id="an-example-test">An example test<a class="headerlink" href="#an-example-test" title="Link to this heading">¶</a></h3>
<p>Let’s create a simple test that:</p>
<ul class="simple">
<li><p><em>as setup</em>, boots a server</p></li>
<li><p>queries the server’s node tree</p></li>
<li><p>asserts that the node tree matches our expectations</p></li>
<li><p><em>as teardown</em>, quits the server</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_basic</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># setup</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">()</span><span class="o">.</span><span class="n">boot</span><span class="p">()</span>
    <span class="c1"># operation</span>
    <span class="n">actual_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">query_tree</span><span class="p">())</span>
    <span class="c1"># validation</span>
    <span class="n">expected_tree</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">        NODE TREE 0 group</span>
<span class="sd">            1 group</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">actual_tree</span> <span class="o">==</span> <span class="n">expected_tree</span>
    <span class="c1"># teardown (but might not happen if the assert fails)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div>
</div>
<p>Not particularly interesting or necessarily useful, but it’s a good
demonstration of what a test might look like.</p>
<p>You can run this test with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_basic
</code></pre></div>
</div>
<p>Our first test has a problem: if the <code class="docutils literal notranslate"><span class="pre">assert</span></code> fails (it won’t, but <em>if it
did</em>), the server won’t quit. Philosophically, booting and quitting the server
aren’t even part of what we want to test. Let’s solve this, and simplify the
test at the same time.</p>
<h3 id="testing-with-fixtures">Testing with fixtures<a class="headerlink" href="#testing-with-fixtures" title="Link to this heading">¶</a></h3>
<p>One might be tempted to use a try/finally block to ensure the server quits,
even if the assertion fails. And it’s true, that will work fine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_try_finally</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># setup</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">()</span><span class="o">.</span><span class="n">boot</span><span class="p">()</span>
    <span class="c1"># ugly!</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># operation</span>
        <span class="n">actual_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">query_tree</span><span class="p">())</span>
        <span class="c1"># validation</span>
        <span class="n">expected_tree</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            NODE TREE 0 group</span>
<span class="sd">                1 group</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="n">actual_tree</span> <span class="o">==</span> <span class="n">expected_tree</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># teardown (even if the assert fails)</span>
        <span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_try_finally
</code></pre></div>
</div>
<p>But there’s a simpler way to do this, with less indentation, where we can
extract out the server lifecycle from the test entirely into a reusable
component: a <a class="reference external" href="https://docs.pytest.org/en/stable/explanation/fixtures.html">pytest fixture</a>.</p>
<p>The following demonstrates a fixture that instantiates a server, boots it,
yields the server for usage elsewhere, and then quits it when that usage
completes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span><span class="w"> </span><span class="nf">server</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="c1"># setup</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;test-server&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">boot</span><span class="p">()</span>
    <span class="c1"># yield to test</span>
    <span class="k">yield</span> <span class="n">server</span>
    <span class="c1"># teardown, even if the test fails</span>
    <span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div>
</div>
<p>Importantly, the code <em>after</em> the yield will run even if the code using the
yielded server fails. This single-yield generator effectively describes a
setup/test/teardown lifecycle.</p>
<p>We integrate the <code class="docutils literal notranslate"><span class="pre">server</span></code> fixture into a test by adding an argument <em>with the
same name as the fixture</em> to the test function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_fixtures</span><span class="p">(</span>
    <span class="c1"># note: the server argument name matches the server fixture name exactly</span>
    <span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># operation</span>
    <span class="n">actual_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">query_tree</span><span class="p">())</span>
    <span class="c1"># validation</span>
    <span class="n">expected_tree</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">        NODE TREE 0 group</span>
<span class="sd">            1 group</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">actual_tree</span> <span class="o">==</span> <span class="n">expected_tree</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_fixtures
</code></pre></div>
</div>
<p>The resulting test is a little shorter (not dramatically so, but you can
imagine how this saves a lot of space in more complex scenarios), and a little
clearer. We no longer have to handle setup and teardown inside the test, and
have a re-usable fixture we can integrate with other tests in the same
testsuite. The <code class="docutils literal notranslate"><span class="pre">server</span></code> fixture will execute once for each test that
references it, allowing us to re-use server functionality, but with strong
isolation due to separate server objects.</p>
<h3 id="testing-async-code">Testing async code<a class="headerlink" href="#testing-async-code" title="Link to this heading">¶</a></h3>
<p>Async code <em>typically</em> needs to be run inside async tests. To do this:</p>
<ul class="simple">
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">async</span></code> keyword to the test function definition, like any other
async function.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.asyncio</span></code> decorator to the function
(available via the <a class="reference external" href="https://pytest-asyncio.readthedocs.io/en/stable/">pytest-asyncio</a> plugin)</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">&#64;pytest_asyncio.fixture</span></code> (available via the <a class="reference external" href="https://pytest-asyncio.readthedocs.io/en/stable/">pytest-asyncio</a>
plugin) to decorate async fixtures, in this case to decorate a fixture
returning an <a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.AsyncServer" title="supriya.contexts.realtime.AsyncServer (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncServer</span></code></a></p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest_asyncio</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">async_server</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="c1"># setup</span>
    <span class="n">server</span> <span class="o">=</span> <span class="k">await</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;test-server&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">boot</span><span class="p">()</span>
    <span class="c1"># yield to test</span>
    <span class="k">yield</span> <span class="n">server</span>
    <span class="c1"># teardown, even if the test fails</span>
    <span class="k">await</span> <span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_async</span><span class="p">(</span><span class="n">async_server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># operation</span>
    <span class="n">actual_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="k">await</span> <span class="n">async_server</span><span class="o">.</span><span class="n">query_tree</span><span class="p">())</span>
    <span class="c1"># validation</span>
    <span class="n">expected_tree</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">        NODE TREE 0 group</span>
<span class="sd">            1 group</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">actual_tree</span> <span class="o">==</span> <span class="n">expected_tree</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_async
</code></pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">test_async</span></code> looks just like <code class="docutils literal notranslate"><span class="pre">test_fixtures</span></code>, just… <em>async</em>.</p>
<h3 id="testing-async-and-sync-code-together">Testing async and sync code together<a class="headerlink" href="#testing-async-and-sync-code-together" title="Link to this heading">¶</a></h3>
<p>When testing classes with “mirror” sync and async interfaces, like
<a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.Server" title="supriya.contexts.realtime.Server (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Server</span></code></a> and
<a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.AsyncServer" title="supriya.contexts.realtime.AsyncServer (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncServer</span></code></a> we can use a little helper
function to optionally await as necessary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="c1"># if x is awaitable, await it</span>
    <span class="k">if</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">iscoroutine</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">x</span>
    <span class="c1"># otherwise just return it</span>
    <span class="k">return</span> <span class="n">x</span>
</code></pre></div>
</div>
<p>And we can use a (more complex) <em>async</em> fixture (available via the
<a class="reference external" href="https://pytest-asyncio.readthedocs.io/en/stable/">pytest-asyncio</a> plugin) to instantiate, boot, yield, then quit <em>either</em> a
<a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.Server" title="supriya.contexts.realtime.Server (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Server</span></code></a> or a
<a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.AsyncServer" title="supriya.contexts.realtime.AsyncServer (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncServer</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest_asyncio</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span><span class="p">,</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">context</span><span class="p">(</span>
    <span class="n">request</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span> <span class="o">|</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="c1"># this fixture will cause tests using it to run twice:</span>
    <span class="c1"># the context class is first AsyncServer, then Server</span>
    <span class="n">context_class</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span>
    <span class="c1"># instantiation looks the same</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">context_class</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;test-server&quot;</span><span class="p">)</span>
    <span class="c1"># booting might need to be awaited</span>
    <span class="k">await</span> <span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">boot</span><span class="p">())</span>
    <span class="c1"># yield the context</span>
    <span class="k">yield</span> <span class="n">context</span>
    <span class="c1"># quitting might need to be awaited</span>
    <span class="k">await</span> <span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">quit</span><span class="p">())</span>
</code></pre></div>
</div>
<p>The above fixture actually causes tests using it to run <em>once per value</em> in the
fixture’s <code class="docutils literal notranslate"><span class="pre">params</span></code> list, effectively parametrizing the test!</p>
<p>Then we can use the fixture, just like we used the <code class="docutils literal notranslate"><span class="pre">server</span></code> fixture
previously, along with the <code class="docutils literal notranslate"><span class="pre">get()</span></code> helper, to test that both flavors of
server handle querying the node tree the same way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_async_and_sync</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span> <span class="o">|</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># operation</span>
    <span class="n">actual_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="k">await</span> <span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">query_tree</span><span class="p">()))</span>
    <span class="c1"># validate they&#39;re the same</span>
    <span class="n">expected_tree</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">        NODE TREE 0 group</span>
<span class="sd">            1 group</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">actual_tree</span> <span class="o">==</span> <span class="n">expected_tree</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_async_and_sync
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Note the bracketed arguments in the <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> output. These show (if
possible) a representation of the parametrized argument(s) to each
individual run of the test.</p>
</div>
<h3 id="testing-node-trees-diffs">Testing node trees diffs<a class="headerlink" href="#testing-node-trees-diffs" title="Link to this heading">¶</a></h3>
<p>Many client operations change the state of the server’s node tree, and in those
cases the simplest thing to test is often not just “does the node tree look like what we
expect?” but “does the diff of the node tree before and after my operation look like what I expect?”</p>
<p>To do this, we can literally compare the node tree <em>before</em> and <em>after</em> an
operation, as a diff. First, query the tree as a pre-condition, query it again
after performing an operation, diff the two strings, and compare your expected
diff against the actual diff.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_node_tree_diff</span><span class="p">(</span><span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># capture the tree before</span>
    <span class="n">before_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">query_tree</span><span class="p">())</span>
    <span class="c1"># perform an operation</span>
    <span class="k">with</span> <span class="n">server</span><span class="o">.</span><span class="n">at</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">server</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="c1"># capture the tree after</span>
    <span class="n">after_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">query_tree</span><span class="p">())</span>
    <span class="c1"># build a diff of the two trees</span>
    <span class="n">actual_diff</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">difflib</span><span class="o">.</span><span class="n">unified_diff</span><span class="p">(</span>
            <span class="n">before_tree</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">after_tree</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">fromfile</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span>
            <span class="n">tofile</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># tidy up the expected diff</span>
    <span class="n">expected_diff</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">        --- before</span>
<span class="sd">        +++ after</span>
<span class="sd">        @@ -1,2 +1,7 @@</span>
<span class="sd">         NODE TREE 0 group</span>
<span class="sd">             1 group</span>
<span class="sd">        +        1004 group</span>
<span class="sd">        +        1003 group</span>
<span class="sd">        +        1002 group</span>
<span class="sd">        +        1001 group</span>
<span class="sd">        +        1000 group</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="p">)</span>
    <span class="c1"># validate</span>
    <span class="k">assert</span> <span class="n">actual_diff</span> <span class="o">==</span> <span class="n">expected_diff</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_node_tree_diff
</code></pre></div>
</div>
<p>Now, note that there’s a lot of boilerplate in that test. Let’s extract out the
tree querying and diffing logic into something separate. Because there’s
“before” and “after” concepts at play, a context manager is a logical choice
for the extracted logic.</p>
<p>And we’ll go one step further, combining the <code class="docutils literal notranslate"><span class="pre">get()</span></code> helper we introduced
earlier for testing both sync and async code “homogenously” to create an <em>async
context manager</em> that can validate the node tree diff for both sync and async
servers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@contextlib</span><span class="o">.</span><span class="n">asynccontextmanager</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">assert_node_tree_diff</span><span class="p">(</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span> <span class="o">|</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span>
    <span class="n">expected_diff</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="c1"># capture the tree before</span>
    <span class="n">before_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="k">await</span> <span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">query_tree</span><span class="p">()))</span>
    <span class="c1"># run the body of the context manager block</span>
    <span class="k">yield</span>
    <span class="c1"># capture the tree after</span>
    <span class="n">after_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="k">await</span> <span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">query_tree</span><span class="p">()))</span>
    <span class="c1"># build a diff of the two trees</span>
    <span class="n">actual_diff</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">difflib</span><span class="o">.</span><span class="n">unified_diff</span><span class="p">(</span>
            <span class="n">before_tree</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">after_tree</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">fromfile</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span>
            <span class="n">tofile</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># tidy up the expected diff so we don&#39;t need to dedent inside our tests</span>
    <span class="n">expected_diff</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">expected_diff</span><span class="p">)</span>
    <span class="c1"># validate that they match</span>
    <span class="k">assert</span> <span class="n">actual_diff</span> <span class="o">==</span> <span class="n">expected_diff</span>
</code></pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_node_tree_diff_context_manager</span><span class="p">(</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span> <span class="o">|</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># the validation happens once we exit this context manager</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">assert_node_tree_diff</span><span class="p">(</span>
        <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
        <span class="n">expected_diff</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">            --- before</span>
<span class="s2">            +++ after</span>
<span class="s2">            @@ -1,2 +1,7 @@</span>
<span class="s2">             NODE TREE 0 group</span>
<span class="s2">                 1 group</span>
<span class="s2">            +        1004 group</span>
<span class="s2">            +        1003 group</span>
<span class="s2">            +        1002 group</span>
<span class="s2">            +        1001 group</span>
<span class="s2">            +        1000 group</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># perform an operation</span>
        <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">at</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
                <span class="n">context</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_node_tree_diff_context_manager
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>If the diff comparisons fail, <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> will show you a <em>diff of diffs</em> in
its failure reporting. That’s not the easiest thing to read, but I swear
you’ll get used to it.</p>
</div>
<h3 id="testing-osc-transcripts">Testing OSC transcripts<a class="headerlink" href="#testing-osc-transcripts" title="Link to this heading">¶</a></h3>
<p>We can validate what OSC messages have been sent to the server via a transcript
<a class="reference internal" href="../api/supriya/osc/protocols.html#supriya.osc.protocols.Capture" title="supriya.osc.protocols.Capture (Python class) — Bases: object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Capture</span></code></a>. While this doesn’t guarantee that
the resulting server state is correct, it does help us validate that our
communications were what we expected.</p>
<p>Supriya provides a low-level context manager - accessible via the server’s OSC
protocol object - for capturing OSC data <em>sent to</em> and <em>received from</em> the
server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_osc_transcript</span><span class="p">(</span><span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># sniff OSC messages going to and coming from the server</span>
    <span class="k">with</span> <span class="n">server</span><span class="o">.</span><span class="n">osc_protocol</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span> <span class="k">as</span> <span class="n">transcript</span><span class="p">:</span>
        <span class="c1"># perform an action that will emit OSC messages</span>
        <span class="n">server</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="c1"># validate that sent messages match what we expect</span>
    <span class="k">assert</span> <span class="n">transcript</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="n">sent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">received</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span>
        <span class="n">supriya</span><span class="o">.</span><span class="n">OscMessage</span><span class="p">(</span><span class="s2">&quot;/g_new&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_osc_transcript
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The OSC “transcript” can be filtered via various boolean flags:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">sent=True</span></code> then the filtered messages will include outgoing OSC messages.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">received=True</span></code> then the filtered messages will include incoming OSC messages.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">status=False</span></code> then nthe filtered messages will omit both <code class="docutils literal notranslate"><span class="pre">/status</span></code> and
<code class="docutils literal notranslate"><span class="pre">/status.reply</span></code> messages, as these are constantly being sent and
received during the course of normal operation.</p></li>
</ul>
</div>
<h3 id="testing-server-process-transcripts">Testing server process transcripts<a class="headerlink" href="#testing-server-process-transcripts" title="Link to this heading">¶</a></h3>
<p>Like the OSX transcript described above, we can also capture <code class="docutils literal notranslate"><span class="pre">stdout</span></code> lines
from a server’s underlying <code class="docutils literal notranslate"><span class="pre">scsynth</span></code> or <code class="docutils literal notranslate"><span class="pre">supernova</span></code> process via a process
<a class="reference internal" href="../api/supriya/scsynth.html#supriya.scsynth.Capture" title="supriya.scsynth.Capture (Python class) — Bases: object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Capture</span></code></a>. There are few uses for this, but it’s
available nonetheless:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_process_transcript</span><span class="p">(</span><span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">server</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">server</span><span class="o">.</span><span class="n">process_protocol</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span> <span class="k">as</span> <span class="n">transcript</span><span class="p">:</span>
        <span class="c1"># tell the server to &quot;trace&quot; the default group</span>
        <span class="n">server</span><span class="o">.</span><span class="n">default_group</span><span class="o">.</span><span class="n">trace</span><span class="p">()</span>
        <span class="c1"># the trace has no end-delimiter so we don&#39;t know explicitly when to</span>
        <span class="c1"># stop capturing the output, so we&#39;ll just sleep and hope for the best:</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">transcript</span><span class="o">.</span><span class="n">lines</span> <span class="o">==</span> <span class="p">[</span>
        <span class="s2">&quot;TRACE Group 1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;   1004 group&quot;</span><span class="p">,</span>
        <span class="s2">&quot;   1003 group&quot;</span><span class="p">,</span>
        <span class="s2">&quot;   1002 group&quot;</span><span class="p">,</span>
        <span class="s2">&quot;   1001 group&quot;</span><span class="p">,</span>
        <span class="s2">&quot;   1000 group&quot;</span><span class="p">,</span>
    <span class="p">]</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_process_transcript
</code></pre></div>
</div>
<h3 id="testing-exceptions">Testing exceptions<a class="headerlink" href="#testing-exceptions" title="Link to this heading">¶</a></h3>
<p>Don’t simply test happy paths. If some functionality can and <em>should</em> raise
exceptions, validate that those exceptions are raised under the expected
conditions. As library authors, we want to treat failure modes as an important
part of API design.</p>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> provides a <code class="docutils literal notranslate"><span class="pre">pytest.raises(...)</span></code> context manager for asserting
exceptions were raised by a code block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_exceptions</span><span class="p">(</span><span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># if the server is already online,</span>
    <span class="c1"># booting again will throw an exception</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">supriya</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ServerOnline</span><span class="p">)</span> <span class="k">as</span> <span class="n">exception_info</span><span class="p">:</span>
        <span class="c1"># the test fails if the exception doesn&#39;t raise</span>
        <span class="n">server</span><span class="o">.</span><span class="n">boot</span><span class="p">()</span>
    <span class="c1"># and we can assert even more about the raised exception</span>
    <span class="c1"># e.g. what the custom message for the exception was</span>
    <span class="k">assert</span> <span class="s2">&quot;Server already online!&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">exception_info</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_exceptions
</code></pre></div>
</div>
<h3 id="testing-warnings">Testing warnings<a class="headerlink" href="#testing-warnings" title="Link to this heading">¶</a></h3>
<p>Like exceptions, we should also test for any warnings our code explicitly
raises.</p>
<p><a class="reference external" href="https://www.python.org/">Python</a>’s standard library provides a
<code class="docutils literal notranslate"><span class="pre">warnings.catch_warnings(record=True)</span></code> context manager for catching warnings
we can inspect later:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_warnings</span><span class="p">(</span><span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># let&#39;s create a client-side reference to a group that doesn&#39;t exist on the</span>
    <span class="c1"># server</span>
    <span class="n">nonexistent_group</span> <span class="o">=</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Group</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">server</span><span class="p">,</span> <span class="n">id_</span><span class="o">=</span><span class="mi">666</span><span class="p">)</span>
    <span class="c1"># capture warnings</span>
    <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">warnings_</span><span class="p">:</span>
        <span class="c1"># operation: try to free a group that doesn&#39;t exist</span>
        <span class="n">nonexistent_group</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
        <span class="c1"># wait for the server, because the warning arrives asynchronously</span>
        <span class="n">server</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
    <span class="c1"># validation</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">warnings_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">warnings_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;/n_free Node 666 not found&quot;</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_warnings
</code></pre></div>
</div>
<h3 id="testing-logs">Testing logs<a class="headerlink" href="#testing-logs" title="Link to this heading">¶</a></h3>
<p>We can also test for logging output. Why write logging code if you don’t verify
that it logged the way you want?</p>
<p><a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> provides a <a class="reference external" href="https://docs.pytest.org/en/stable/how-to/logging.html#caplog-fixture">caplog fixture</a>
that lets you set logging levels and capture logs during tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_logging</span><span class="p">(</span><span class="n">caplog</span><span class="p">:</span> <span class="n">pytest</span><span class="o">.</span><span class="n">LogCaptureFixture</span><span class="p">,</span> <span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># capture logs from the supriya.osc.out logger</span>
    <span class="c1"># that are at or higher than logging.DEBUG</span>
    <span class="n">caplog</span><span class="o">.</span><span class="n">set_level</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="s2">&quot;supriya.osc.out&quot;</span><span class="p">)</span>
    <span class="c1"># do something that should emit some osc logging</span>
    <span class="n">server</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="c1"># validate that the logs are what we expect...</span>
    <span class="c1"># ``caplog.record_tuples`` is a list of triples: logger, level, message</span>
    <span class="k">assert</span> <span class="n">caplog</span><span class="o">.</span><span class="n">record_tuples</span> <span class="o">==</span> <span class="p">[</span>
        <span class="p">(</span>
            <span class="s2">&quot;supriya.osc.out&quot;</span><span class="p">,</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;[127.0.0.1:57110/</span><span class="si">{</span><span class="n">server</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">] OscMessage(&#39;/g_new&#39;, 1000, 0, 1)&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_logging
</code></pre></div>
</div>
<h3 id="testing-parametrically">Testing parametrically<a class="headerlink" href="#testing-parametrically" title="Link to this heading">¶</a></h3>
<p>Last, but not least. Often you’ll write a series of very similar tests, and
it’s often the case that with some careful considerations you can transform
that series of similar tests into a single test with varying inputs. This is a
“parametrized” test: one test body, but a series of one or more varying sets of
inputs.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> folks use the British “parametrize” spelling rather than the
American “parameterized” spelling. We’ll use the same spelling they do for
the sake of consistency.</p>
</div>
<p>You can create a parametrized test with the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.parametrize</span></code>
<a class="reference external" href="https://docs.pytest.org/en/stable/how-to/parametrize.html#pytest-mark-parametrize-parametrizing-test-functions">decorator</a>.
This decorator has two arguments:</p>
<ul class="simple">
<li><p>A string containing comma-delimited names which must map to arguments to your
test function</p></li>
<li><p>A list of arguments, or tuples of arguments the same length as the number of
names defined in the preceding string</p></li>
</ul>
<p>We can demonstrate this with a long - but ultimately simple - test combining
some of the techniques previously described above. What is the node tree diff
when we add a new group relative to an old one, with the <code class="docutils literal notranslate"><span class="pre">add_action</span></code> varying
in each test scenario?</p>
<p>To test this we need two parametrized arguments: the add action under test, and
the expected output. Then we’ll craft a sequences of test scenarios, one for
each add action, with a matching expected node tree diff. The test body will
execute its logic with each different add action, and validate that our
expected node tree diff matches the actual node tree diff:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;add_action, expected_diff&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_TO_HEAD</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,5 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">            +            1002 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_TO_TAIL</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -2,3 +2,4 @@</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            +            1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_BEFORE</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,5 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_AFTER</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -2,3 +2,4 @@</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">REPLACE</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,3 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">            -        1000 group</span>
<span class="sd">            -            1001 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_parametrized</span><span class="p">(</span>
    <span class="n">add_action</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="p">,</span>
    <span class="n">expected_diff</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">server</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># add a group</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="c1"># make sure the group has a child group</span>
    <span class="n">group</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">assert_node_tree_diff</span><span class="p">(</span>
        <span class="n">context</span><span class="o">=</span><span class="n">server</span><span class="p">,</span>
        <span class="n">expected_diff</span><span class="o">=</span><span class="n">expected_diff</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># add another group relative to the first one</span>
        <span class="c1"># with the add action varying depending on the scenario</span>
        <span class="n">group</span><span class="o">.</span><span class="n">add_group</span><span class="p">(</span><span class="n">add_action</span><span class="o">=</span><span class="n">add_action</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_parametrized
</code></pre></div>
</div>
<p>Parameters are combinatoric. You can use multiple <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.parametrize</span></code>
decorators and/or parametrized fixtures with the same test case, and <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a>
will perform combinatoric expansion. Let’s use the <code class="docutils literal notranslate"><span class="pre">context</span></code> fixture defined
earlier that can yield either a sync or async server with our initial
parametric test cases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;add_action, expected_diff&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_TO_HEAD</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,5 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">            +            1002 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_TO_TAIL</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -2,3 +2,4 @@</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            +            1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_BEFORE</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,5 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_AFTER</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -2,3 +2,4 @@</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">REPLACE</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,3 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">            -        1000 group</span>
<span class="sd">            -            1001 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_parametrized_combinatoric</span><span class="p">(</span>
    <span class="n">add_action</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="p">,</span>
    <span class="n">expected_diff</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span> <span class="o">|</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># add a group</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="c1"># make sure the group has a child group</span>
    <span class="n">group</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">assert_node_tree_diff</span><span class="p">(</span>
        <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
        <span class="n">expected_diff</span><span class="o">=</span><span class="n">expected_diff</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># add another group relative to the first one</span>
        <span class="c1"># with the add action varying depending on the scenario</span>
        <span class="n">group</span><span class="o">.</span><span class="n">add_group</span><span class="p">(</span><span class="n">add_action</span><span class="o">=</span><span class="n">add_action</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_parametrized_combinatoric
</code></pre></div>
</div>
<p>Note the expansion in the test report: five add actions times two server types.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Debugging parametrized tests can be difficult because of the verticality of
the code, and the non-obvious connection between which parameter block was
associated with which failure. In general, try not to stack too many
different parametric groups, simply for the sake of legibility.</p>
</div>
<h3 id="testing-parametrically-with-fixtures">Testing parametrically with fixtures<a class="headerlink" href="#testing-parametrically-with-fixtures" title="Link to this heading">¶</a></h3>
<p>One thing parametrized tests are not good at is handling parametrized fixtures.
By default, <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> won’t expand fixture references that are arguments to a
parametrized test scenario. However, we can use the <a class="reference external" href="https://github.com/dev-petrov/pytest-lazy-fixtures">pytest-lazy-fixtures</a>
plugin’s <code class="docutils literal notranslate"><span class="pre">lf</span></code> function to lazily evaluate fixtures appearing in a
parametrized scenario.</p>
<p>As an example, let’s replace the <code class="docutils literal notranslate"><span class="pre">context</span></code> fixture - which expands to either
a <a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.Server" title="supriya.contexts.realtime.Server (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Server</span></code></a> or
<a class="reference internal" href="../api/supriya/contexts/realtime.html#supriya.contexts.realtime.AsyncServer" title="supriya.contexts.realtime.AsyncServer (Python class) — Bases: BaseServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncServer</span></code></a> - with another
<code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.parametrize</span></code> decorator whose arguments are lazily-evaluated
references to the <code class="docutils literal notranslate"><span class="pre">async_server</span></code> and <code class="docutils literal notranslate"><span class="pre">server</span></code> fixtures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
    <span class="s2">&quot;add_action, expected_diff&quot;</span><span class="p">,</span>
    <span class="p">[</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_TO_HEAD</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,5 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">            +            1002 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_TO_TAIL</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -2,3 +2,4 @@</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            +            1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_BEFORE</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,5 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">ADD_AFTER</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -2,3 +2,4 @@</span>
<span class="sd">                 1 group</span>
<span class="sd">                     1000 group</span>
<span class="sd">                         1001 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="o">.</span><span class="n">REPLACE</span><span class="p">,</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            --- before</span>
<span class="sd">            +++ after</span>
<span class="sd">            @@ -1,4 +1,3 @@</span>
<span class="sd">             NODE TREE 0 group</span>
<span class="sd">                 1 group</span>
<span class="sd">            -        1000 group</span>
<span class="sd">            -            1001 group</span>
<span class="sd">            +        1002 group</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;context_&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">lf</span><span class="p">(</span><span class="s2">&quot;async_server&quot;</span><span class="p">),</span> <span class="n">lf</span><span class="p">(</span><span class="s2">&quot;server&quot;</span><span class="p">)])</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_parametrized_lazy_fixtures</span><span class="p">(</span>
    <span class="n">add_action</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AddAction</span><span class="p">,</span>
    <span class="n">expected_diff</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="c1"># we use a slightly different name so as to not shadow the context fixture</span>
    <span class="c1"># otherwise pytest will complain:</span>
    <span class="n">context_</span><span class="p">:</span> <span class="n">supriya</span><span class="o">.</span><span class="n">AsyncServer</span> <span class="o">|</span> <span class="n">supriya</span><span class="o">.</span><span class="n">Server</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># add a group</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">context_</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="c1"># make sure the group has a child group</span>
    <span class="n">group</span><span class="o">.</span><span class="n">add_group</span><span class="p">()</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">assert_node_tree_diff</span><span class="p">(</span>
        <span class="n">context</span><span class="o">=</span><span class="n">context_</span><span class="p">,</span>
        <span class="n">expected_diff</span><span class="o">=</span><span class="n">expected_diff</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># add another group relative to the first one</span>
        <span class="c1"># with the add action varying depending on the scenario</span>
        <span class="n">group</span><span class="o">.</span><span class="n">add_group</span><span class="p">(</span><span class="n">add_action</span><span class="o">=</span><span class="n">add_action</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>pytest<span class="w"> </span>tests/test_examples.py::test_parametrized_lazy_fixtures
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>There’s no good reason to do this specifically except for the sake of
pedagogy. The original <code class="docutils literal notranslate"><span class="pre">context</span></code> fixture is cleaner, but we need to
demonstrate the lazy technique.</p>
</div>
<h2 id="formatting">Formatting<a class="headerlink" href="#formatting" title="Link to this heading">¶</a></h2>
<p>Supriya follows PEP8 formatting standards. While Supriya originally used a
combination of <a class="reference external" href="https://black.readthedocs.io/en/stable/">black</a> and <a class="reference external" href="https://pycqa.github.io/isort/">isort</a> to handle formatting code and sorting
imports, it now just uses <a class="reference external" href="https://docs.astral.sh/ruff/">ruff</a>.</p>
<p>You can auto-format the codebase with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>make<span class="w"> </span>reformat
<span class="go">make[2]: Entering directory &#39;/home/runner/work/supriya/supriya&#39;</span>
<span class="go">ruff check --select I,RUF022 --fix supriya/ docs/ examples/ tests/ *.py</span>
<span class="go">make[2]: Leaving directory &#39;/home/runner/work/supriya/supriya&#39;</span>
</code></pre></div>
</div>
<h2 id="linting">Linting<a class="headerlink" href="#linting" title="Link to this heading">¶</a></h2>
<p>While Supriya originally used <a class="reference external" href="https://flake8.pycqa.org/en/latest/">flake8</a> for linting, it now uses <a class="reference external" href="https://docs.astral.sh/ruff/">ruff</a>, for
sake of speed and ease of configuration.</p>
<p>You can lint the codebase with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>make<span class="w"> </span>ruff-lint
<span class="go">make[2]: Entering directory &#39;/home/runner/work/supriya/supriya&#39;</span>
<span class="go">ruff check --diff supriya/ docs/ examples/ tests/ *.py</span>
<span class="go">make[2]: Leaving directory &#39;/home/runner/work/supriya/supriya&#39;</span>
</code></pre></div>
</div>
<h2 id="type-checking">Type-checking<a class="headerlink" href="#type-checking" title="Link to this heading">¶</a></h2>
<p>Supriya employs static type-checking extensively (although this is always a
work-in-progress) and uses <a class="reference external" href="https://mypy-lang.org/">mypy</a> to perform the analysis.</p>
<p>You can run static type-checking with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="gp">josephine@laptop:~/supriya$ </span>make<span class="w"> </span>mypy
<span class="go">make[2]: Entering directory &#39;/home/runner/work/supriya/supriya&#39;</span>
<span class="go">mypy supriya/ tests/</span>
<span class="go">supriya/ext/book.py:14: error: Library stubs not installed for &quot;docutils.nodes&quot;  [import-untyped]</span>
<span class="go">supriya/ext/book.py:14: note: Hint: &quot;python3 -m pip install types-docutils&quot;</span>
<span class="go">supriya/ext/book.py:14: note: (or run &quot;mypy --install-types&quot; to install all missing stub packages)</span>
<span class="go">supriya/ext/book.py:14: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports</span>
<span class="go">tests/patterns/test_UpdatePattern.py:17: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:26: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:36: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:37: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:38: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:39: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:40: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_UpdatePattern.py:41: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:32: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:33: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:39: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:40: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:46: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:47: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:63: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:64: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:68: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:69: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:70: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:83: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:84: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:100: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:101: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:101: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:102: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:103: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:103: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:107: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:107: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:108: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:108: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:109: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:109: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:112: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:113: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:128: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:129: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:129: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:130: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:131: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:131: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:136: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ParallelPattern.py:138: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:16: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:17: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:18: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:19: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:20: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:21: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:29: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:37: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:38: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:39: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:40: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:48: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:56: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:57: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:58: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:67: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:68: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_MonoEventPattern.py:69: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:26: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:27: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:27: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:28: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:28: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:29: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:38: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:39: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:39: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:40: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:40: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_GroupPattern.py:42: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:40: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:44: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:45: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:46: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:60: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:67: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:68: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_FxPattern.py:69: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:16: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:17: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:18: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:19: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:20: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:21: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:29: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:37: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:38: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:39: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:40: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:48: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:56: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:57: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:58: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:67: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:68: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_EventPattern.py:69: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:23: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:32: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:42: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:43: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:44: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:45: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:46: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_ChainPattern.py:47: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:38: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:42: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:44: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:48: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:50: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:54: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:54: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:54: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:55: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:55: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:55: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:57: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:57: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:72: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:76: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:78: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:82: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:84: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:88: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:88: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:88: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:89: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:89: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:89: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:92: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:94: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:95: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:111: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:115: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:117: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:121: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:123: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:130: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:134: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:134: error: Argument &quot;target_node&quot; to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:136: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:140: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:141: error: Argument &quot;out&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:143: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:147: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:147: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:147: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:148: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:148: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:148: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:151: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:153: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:154: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:159: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:161: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:162: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:187: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:191: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:193: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:198: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:199: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:208: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:212: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:212: error: Argument &quot;target_node&quot; to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:214: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:219: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:220: error: Argument &quot;out&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:221: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:226: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:229: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:230: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:235: error: Argument 1 to &quot;BusAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:239: error: Argument 1 to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:239: error: Argument &quot;target_node&quot; to &quot;GroupAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:241: error: Argument 1 to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:246: error: Argument &quot;in_&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:247: error: Argument &quot;out&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | str | Sequence[SupportsFloat | UUID | str]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:248: error: Argument &quot;target_node&quot; to &quot;SynthAllocateEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:253: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:256: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:257: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:265: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:268: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:269: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:272: error: Argument 1 to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:275: error: Argument &quot;out&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;SupportsFloat | UUID | Sequence[SupportsFloat | UUID]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:276: error: Argument &quot;target_node&quot; to &quot;NoteEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;Node | UUID | None&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:285: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:287: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:288: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:293: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:295: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:296: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:303: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:305: error: Argument 1 to &quot;NodeFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">tests/patterns/test_BusPattern.py:306: error: Argument 1 to &quot;BusFreeEvent&quot; has incompatible type &quot;MockUUID&quot;; expected &quot;UUID | tuple[UUID, int]&quot;  [arg-type]</span>
<span class="go">Found 199 errors in 9 files (checked 158 source files)</span>
<span class="go">make[2]: Leaving directory &#39;/home/runner/work/supriya/supriya&#39;</span>
</code></pre></div>
</div>
<p>When writing (or refactoring) code, make sure to add type hints whenever
possible. Except in rare cases - typically extremely dynamic programming or
low-level systems programming-, most functions and methods can be type hinted.
We aim for every method and function to <em>at least</em> have a return value, but
more is better.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Also make sure to type hint tests in the test suite, as this makes
refactoring the codebase simpler and surfaces errors faster than simply
running the tests.</p>
</div>
<h3 id="mypy-extensions">Mypy extensions<a class="headerlink" href="#mypy-extensions" title="Link to this heading">¶</a></h3>
<p>Because of its use of metaclasses for code generation in UGens, Supriya
requires a <a class="reference external" href="https://mypy-lang.org/">mypy</a> extension to teach it about the auto-generated methods and
properties on those classes.</p>
<p>The extension lives in <a class="extlink-github-blob reference external" href="https://github.com/supriya-project/supriya/blob//supriya/ext/mypy.py">supriya/ext/mypy.py</a>
and MyPy is already configured to use it via the <code class="docutils literal notranslate"><span class="pre">plugins</span></code> field in Supriya’s
<a class="extlink-github-blob reference external" href="https://github.com/supriya-project/supriya/blob//pyproject.toml">pyproject.toml</a>.</p>
<p>Should you need to type check against Supriya’s UGens in another project, you
can activate the <a class="reference external" href="https://mypy-lang.org/">mypy</a> extension with the following code:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><code><span class="k">[tool.mypy]</span>
<span class="n">plugins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;supriya.ext.mypy&quot;</span><span class="p">]</span>
</code></pre></div>
</div>
<h2 id="ci-cd">CI/CD<a class="headerlink" href="#ci-cd" title="Link to this heading">¶</a></h2>
<p>Every push to Supriya’s <a class="reference external" href="https://github.com/supriya-project/supriya">GitHub</a> repository runs the GitHub Actions <a class="reference external" href="https://github.com/supriya-project/supriya/actions/workflows/test.yml">test
workflow</a>.</p>
<p>This workflow does <em>a lot</em> of different validations:</p>
<ul class="simple">
<li><p>It builds SuperCollider from source under Ubuntu, OSX <em>and</em> Windows</p></li>
<li><p>It configures dummy sound-cards under each of those operating systems and
gut-checks that the SuperCollider server can boot</p></li>
<li><p>It builds the Sphinx documentation (which requires SuperCollider!) and checks
every external link found in the documentation to ensure nothing is broken</p></li>
<li><p>It builds the same wheels that would be published to PyPI to prove that
package publishing is possible on the current commit</p></li>
<li><p>It format-checks, lints and type-checks the entire codebase, including the
test suite</p></li>
<li><p>It gut-checks that Supriya is installable and importable without any of its
optional dependencies</p></li>
<li><p>It gut-checks that Supriya’s shared memory works</p></li>
<li><p>It runs <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> against both the unit tests and doctests under all
operating systems and all major, non-end-of-life, non-alpha versions of
Python (e.g. 3.10, 3.11, 3.12, 3.13)</p></li>
</ul>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="index.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Developer overview">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Developer overview
              </div>
            </div>
          </a>
        
        
          
          <a href="documenting.html" class="md-footer__link md-footer__link--next" aria-label="Next: Documentating">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Documentating
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2014-2025, Joséphine Wolf Oberholtzer.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    8.2.3.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.view", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.instant", "navigation.tabs", "navigation.top", "toc.follow"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.32136f45f91ae6956.min.js?v=a7a9472a"></script>
    
  </body>
</html>